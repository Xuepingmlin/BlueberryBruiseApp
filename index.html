<!DOCTYPE html>
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
    <meta http-equiv="Pragma" content="no-cache" />
    <meta http-equiv="Expires" content="0" />
  <head>
    <meta charset="utf-8">
    <title>image-segmenter</title>
  </head>
  <body>
    <div style="margin: 20px;">
      <h1>Blueberry Bruise Assesment</h1>
      <div style="padding: 10px;">
        <button id="modelload" onclick="loadModel();">load model</button>
        <input id="modelimage" type="file" name="filename" accept="image/gif, image/jpeg, image/png" onchange="loadImage(this);" disabled>
        <button id="modelrun" onclick="runModel();" disabled>crop berry</button>
        <!-- <button id="imagecrop" onclick="cropImage();" disabled>crop Berry</button> -->
        <button id="berrysegment" onclick="segmentBerry();" disabled>get bruise result</button>
        <!-- <button id="bruisesegment" onclick="segmentBruise();" disabled>segment bruise</button> -->
      </div>
      
      <div style="padding: 10px;">
        <div id="capimg" style="position:relative;display:inline-block;min-width:600px;vertical-align:top;">
          <canvas id="canvasimage" width='112' height='112' style="z-index:1; position:static; left:0px; top:0px;"></canvas>
          <!-- <canvas id="canvassegments" style="z-index:2; position:relative; left:120px; top:0px;border:1px solid #000000;"></canvas> -->
          <canvas id="canvascrop" width='112' height='112' style="z-index:1; position:static; left:0px; top:0px;"></canvas>
          <!-- <canvas id="individualBerry" style="z-index:3; position:absolute; left:0px; top:120px;"></canvas> -->
          <canvas id="bruiseResult" width='231' height='620' style="z-index:1; position: absolute;left:0px; top:120px;"></canvas>
          <canvas id="origin" width='560' height='800' style="z-index:1; position: absolute;left:250px; top:0px;"></canvas>
          <canvas id="segmentation" width='560' height='800' style="z-index:2; position: absolute;left:250px; top:0px;"></canvas>
          <!-- <canvas id="result2" style="z-index:3; position:absolute; left:0px; top:240px;"></canvas> -->
          <!-- <canvas id="cropBerry" style="z-index:3; position:absolute; left:0px; top:240;"></canvas> -->
        </div>
        <div id="message" style="position: absolute;display:inline-block;left:1000px; top:200px;"></div>
      </div>

      

    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@1.7.4"></script>
    <script async src="opencv.js" type="text/javascript"></script>
    <script src="image-segmenter.js"></script>
  </body>
</html>
